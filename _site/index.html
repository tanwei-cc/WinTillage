<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta name="renderer" content="webkit|ie-comp|ie-stand" />
    <meta name="viewport" content="initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>WinTillage</title>
    <link rel="shortcut icon" href="favicon.ico">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/viewerjs/1.1.0/viewer.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/froala-editor/2.8.1/css/froala_editor.pkgd.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/froala-editor/2.8.1/css/froala_style.min.css" rel="stylesheet">
    <link href="css/style.css?20181106115206" rel="stylesheet"> 
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.9.1/underscore-min.js"></script>
    <script>
        _.templateSettings = {
            interpolate: /\{(.+?)\}/g
        };
    </script>
    <script>
    var _hmt = _hmt || [];
    (function() {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?3d2d14d4d61d82442977f4ad8763c75f";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
    })();
</script>
<script>
    /**
     * 事件追踪
     * @param {string} category - 要监控的目标的类型名称，通常是同一组目标的名字，比如”视频”、”音乐”、”软件”、”游戏”等等。
     * @param {string} action - 用户跟目标交互的行为，如”播放”、”暂停”、”下载”等等。
     * @param {string} [opt_label] - 事件的一些额外信息，通常可以是歌曲的名称、软件的名称、链接的名称等等。
     * @param {string} [opt_value] - 事件的一些数值信息，比如权重、时长、价格等等，在报表中可以看到其平均值等数据。
     */
    function trackEvent(category, action, opt_label, opt_value) {
        if (category && action) {
            _hmt.push(['_trackEvent', category, action, opt_label || '', opt_value || '']);
        }
    }
    
    $(function() {
        var bodyEl = $(document.body);

        bodyEl.on("click", "[ba-event]", function() {
            var it = $(this);
            var values = (it.attr("ba-event") || "").split(",");
            if (values.length > 1) {
                trackEvent.apply(null, values);
            }
        });

        bodyEl.on('click', 'a[href]', function(ev) {
            var el = $(this);
            var text = el.text();
            var href = el.attr('href');

            if (href && href !== '#') {
                trackEvent('link', 'to', href, text);
            }
        });
    });
</script>
</head>

<body>
    <!-- Fixed navbar -->
    <nav class="navbar navbar-default">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="index.html">
                    <img src="favicon.ico" class="logo" />
                </a>
            </div>
            <div id="navbar" class="navbar-collapse collapse">
                <!-- <ul class="nav navbar-nav">
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">工具
                            <span class="caret"></span></a>
                        <ul class="dropdown-menu">
                            
                            <li>
                                <a href="/2018/08/27/tools-money-exchange.html">货币兑换计算器</a>
                            </li>
                            
                        </ul>
                    </li>
                </ul> -->
                <!-- <ul class="nav navbar-nav">
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                            常用链接<span class="caret"></span>
                        </a>
                        <ul class="dropdown-menu">
                            <li><a href="https://docs.qq.com/sheet/BmAfQN2sop2v1PD3Vf3ahkL33GDWKK3baohy05BGA62tyoU03Cpduu0IAjCH0EBPWM0noU5K3?opendocxfrom=admin" target="_blank">【文档】商品型号</a></li>
                            <li><a href="http://merchant.fy.intmall.net/main/panel" target="_blank">【管理】丰卖网</a></li>
                            <li><a href="http://en.intmall.com/category/41.html" target="_blank">【耳机】丰卖网</a></li>
                            <li><a href="https://www.aliexpress.com/category/200010206/smart-watches.html?spm=2114.search0103.0.0.5eba3e706EzqQ2&isrefine=y&site=glo&g=y&tag=" target="_blank">【智能手表】速卖通</a></li>
                            <li><a href="https://www.aliexpress.com/category/63705/earphones-headphones.html?spm=2114.search0103.1.19.960526c3aee6Mk&site=glo" target="_blank">【耳机】速卖通</a></li>
                            <li><a href="https://www.amazon.com/s/ref=nb_sb_ss_ime_c_2_11?url=search-alias%3Delectronics&field-keywords=smart+watch&sprefix=smart+watch%2Caps%2C111&crid=2TR46ERJH0UHF" target="_blank">【智能手表】亚马逊</a></li>
                            <li><a href="https://www.amazon.com/Headphones-Accessories-Supplies/b/ref=nav_shopall_headphones?ie=UTF8&node=172541" target="_blank">【耳机】亚马逊</a></li>
                        </ul>
                    </li>
                </ul> -->
                <ul class="nav navbar-nav">
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                            工具<span class="caret"></span>
                        </a>
                        <ul class="dropdown-menu">
                            <li><a href="profit-calculator-list.html">利润批量计算</a></li>
                            <li><a href="editor.html">内容编辑器</a></li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/viewerjs/1.1.0/viewer.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/froala-editor/2.8.1/js/froala_editor.pkgd.min.js"></script>

    <div class="container theme-showcase" role="main">
        <script>
    trackEvent('index-page', 'load');
</script>
<div class="row">
    <div class="col-sm-4">
        <div class="panel panel-default">
            <div class="panel-heading">
                <h3 class="panel-title">利润计算器</h3>
            </div>
            <div class="panel-body">
                <!-- 利润计算器 -->
<div class="profit-calculator calculator">
    <span>原售价($) <input class="me-price" type="number" /> - </span>
    <span>成本(¥) <input class="me-bid" type="number" /> - </span><br>
    <span>折扣率(%) <input class="me-discount-rate" type="number" /> - </span>
    <span>平台佣金(%) <input class="me-platform-per" type="number" value="5" /> - </span><br>
    <span>其他(¥) <input class="me-other-cost" type="number" /></span>
    <br><br>
    <div class="text-primary">
        折后利润 <span class="me-discount-profit"></span>
    </div>
    <div class="text-primary">
        净利润 <span class="me-pure-profit"></span>
    </div>
    <div class="text-primary">
        折后售价 <span class="me-discount-price"></span>
    </div><br>
    <div class="text-muted">
        <li>成本=进价+邮</li>
        <li>折后利润=原售价-成本-折扣率</li>
        <li>净利润=折后利润-平台佣金-其他</li>
    </div>
</div>
<script>
    $(function() {
        var key = 'profit-calculator';
        var usd2cny = 6.9618;
        var cny2usd = 0.1436;
        var container = $('.' + key);
        var priceEl = container.find('.me-price');
        var bidEl = container.find('.me-bid');
        var discountRateEl = container.find('.me-discount-rate');
        var platformPerEl = container.find('.me-platform-per');
        var otherCostEl = container.find('.me-other-cost');
        var discountProfitEl = container.find('.me-discount-profit');
        var pureProfitEl = container.find('.me-pure-profit');
        var discountPriceEl = container.find('.me-discount-price');
        var numberEls = container.find('[type="number"]');
        var moneyExchange = function(fieldName) {
            var price = (parseFloat(priceEl.val()) || 0) * usd2cny; //售价
            var bid = parseFloat(bidEl.val()) || 0; //进价
            var discountRatePrice = (parseFloat(discountRateEl.val() || 0) / 100) * price; //折扣金额
            var platformPrice = 0; //平台金额
            var discountProfitPrice = 0; //折后利润
            var discountProfitPer = 0; //折后利润率
            var pureProfitPrice = 0; //净利润
            var pureProfitPricePer = 0; //净利润率
            var discountPrice = 0;

            if (price) {
                discountPrice = price - discountRatePrice;
                platformPrice = ((parseFloat(platformPerEl.val()) || 0) / 100) * discountPrice;
                discountProfitPrice = price - bid - discountRatePrice;
                discountProfitPer = Math.ceil((discountProfitPrice / price) * 100);
                pureProfitPrice = discountProfitPrice - platformPrice - (parseFloat(otherCostEl.val()) || 0);
                pureProfitPricePer = Math.ceil((pureProfitPrice / price) * 100);
            }

            console.log([
                "原售价: ¥" + price,
                "成本: ¥" + bid,
                "折扣金额: ¥" + discountRatePrice,
                "平台金额: ¥" + platformPrice,
                "折后利润: ¥" + discountProfitPrice,
                "折后利润率: " + discountProfitPer + "%",
                "净利润: ¥" + pureProfitPrice,
                "净利润率: " + pureProfitPricePer + "%",
                "折后售价: ¥" + discountPrice,
            ].join('\n'));

            discountProfitEl.text(`
                ${Math.ceil(discountProfitPer)}% | $${(discountProfitPrice*cny2usd).toFixed(2)} | ¥${discountProfitPrice.toFixed(2)}
            `);
            pureProfitEl.text(`
                ${Math.ceil(pureProfitPricePer)}% | $${((pureProfitPrice*cny2usd)).toFixed(2)} | ¥${pureProfitPrice.toFixed(2)}
            `);
            discountPriceEl.text(`$${(discountPrice*cny2usd).toFixed(2)} | ¥${discountPrice.toFixed(2)}`);
        };
        var showCacheData = function() {
            numberEls.each(function() {
                this.value = localStorage[this.className] || this.value || '';
            });
        };
        var setCacheData = function() {
            numberEls.each(function() {
                localStorage[this.className] = this.value || '';
            });
        };

        showCacheData();
        moneyExchange();
        [priceEl, bidEl, discountRateEl, platformPerEl, otherCostEl].forEach(function(el) {
            el.on('input', function() {
                moneyExchange();
                setCacheData();
            });
        });
    });
</script>
            </div>
        </div>
        <div class="panel panel-primary">
            <div class="panel-heading">
                <!-- <h3 class="panel-title">定价器</h3> -->
                <h3 class="panel-title">待开发</h3>
            </div>
            <div class="panel-body">
                <!-- <!-- 定价器 -->
<div class="price-calculator calculator">
    进价 ¥<input class="me-bid" type="number" />
    <span>+</span> 销售利润率 <input class="me-profit-per" type="number" value="30" />%
    <span>+</span> 平台费率 <input class="me-brokerage-per" type="number" value="5" />%
    <span>=</span> 售价¥ <span class="me-price"></span>
    <span class="equivalent">
        | $<input class="me-txt-usd-price" type="number" />
        <a class="btn btn-primary btn-sm btn-change-price" ba-event="price-calculator,usd-price-change">修改</a>
    </span><br> 销售净利润¥ <span class="me-pure-profit"></span>
    <span class="equivalent">
        | <span class="me-pure-profit-per"></span>%
    </span><br><br><br>
    <div class="text-muted">
        <li>出售运费：由平台运费模版计算</li>
        <li>平台费用：由于无法计算 "出售运费"，因此计算偏低</li>
        <li>货币规则：1美元=6.9618人民币，1人民币=0.1436美元</li>
    </div>
</div>
<script>
    //销售利润=售价-成本
    //销售利润率=销售利润/售价|(售价-成本)/售价
    //销售净利润=销售利润-平台费
    //销售净利润率=(销售净利润/售价)*100
    //售价=成本+平台佣金+销售利润+其它
    //x售价=成本*(1+利润率)/(1-折扣率)*(1+佣金率)
    $(function() {
        var key = 'price-calculator';
        var usd2cny = 6.9618;
        var cny2usd = 0.1436;
        var container = $('.' + key);
        var bidEl = container.find('.me-bid');
        var priceEl = container.find('.me-price');
        // var profitEl = container.find('.me-profit');
        var profitPerEl = container.find('.me-profit-per');
        var brokeragePerEl = container.find('.me-brokerage-per');
        var pureProfitEl = container.find('.me-pure-profit');
        var pureProfitPerEl = container.find('.me-pure-profit-per');
        var txtUsdPriceEl = container.find('.me-txt-usd-price');
        var btnChangePriceEl = container.find('.btn-change-price');
        var numberEls = container.find('[type="number"]');
        var moneyExchange = function(fieldName) {
            var usdPrice = parseFloat(txtUsdPriceEl.val()) || 0; //售价(美元)
            var bid = parseFloat(bidEl.val()) || 0; //进价
            var cost = bid; //成本
            var price; //售价
            var profit; //销售利润
            var profitPer = parseFloat(profitPerEl.val()) || 0; //销售利润率
            var pureProfit; //销售净利润
            var pureProfitPer; //销售净利润率
            var brokerage; //平台费，因为不知道出售运费，因此预估偏低
            var brokeragePer = (parseFloat(brokeragePerEl.val()) || 0) / 100; //平台费率

            //通过售价(美元)反推计算
            if (fieldName === '$price' && usdPrice) {
                price = usdPrice * usd2cny;
                brokerage = price * brokeragePer; //约有误差
                profitPer = (price - cost - brokerage) / cost;
                profit = cost * profitPer / 100;
                profitPerEl.val((profitPer * 100).toFixed(2));
            } else {
                profit = cost * profitPer / 100;
                brokerage = (cost + profit) * brokeragePer;
                price = cost + profit + brokerage;
            }

            pureProfit = price - cost - brokerage;
            if (pureProfit) {
                pureProfitPer = (pureProfit / price) * 100;
            } else {
                pureProfitPer = 0;
            }

            priceEl.text(price.toFixed(2));
            // profitEl.text(profit.toFixed(2));
            pureProfitEl.text(pureProfit.toFixed(2));
            pureProfitPerEl.text(pureProfitPer.toFixed(2));
            txtUsdPriceEl.val((price * cny2usd).toFixed(2));
        };
        var showCacheData = function() {
            numberEls.each(function() {
                this.value = localStorage[this.className] || this.value || '';
            });
        };
        var setCacheData = function() {
            numberEls.each(function() {
                localStorage[this.className] = this.value || '';
            });
        };

        showCacheData();
        moneyExchange();
        [bidEl, profitPerEl, brokeragePerEl].forEach(function(el) {
            el.on('input', function() {
                moneyExchange();
                setCacheData();
            });
        });
        btnChangePriceEl.click(function() {
            moneyExchange('$price');
            setCacheData();
        });
    });
</script> -->
            </div>
        </div>
    </div>
    <div class="col-sm-4">
        <div class="panel panel-success">
            <div class="panel-heading">
                <h3 class="panel-title">常用</h3>
            </div>
            <div class="panel-body">
                <li><a href="https://sellercenter.aliexpress.com/seller/index.htm" target="_blank">【速卖通】管理</a></li>
                <li><a href="http://merchant.fy.intmall.net/main/panel" target="_blank">【丰卖网】管理</a></li>
                <li><a href="https://docs.qq.com/sheet/BmAfQN2sop2v1PD3Vf3ahkL33GDWKK3baohy05BGA62tyoU03Cpduu0IAjCH0EBPWM0noU5K3?opendocxfrom=admin" target="_blank">【工具】腾讯文档</a></li>
                <li><a href="https://pan.baidu.com/" target="_blank">【工具】百度网盘</a></li>
                <li><a href="https://translate.google.cn/" target="_blank">【工具】谷歌翻译</a></li>
                <li><a href="http://fanyi.baidu.com/#zh/en/" target="_blank">【工具】百度翻译</a></li>
                <li><a href="http://fanyi.youdao.com/" target="_blank">【工具】有道翻译</a></li>
                <li><a href="https://www.baidu.com/s?ie=utf-8&f=8&rsv_bp=1&tn=baidu&wd=%E8%B4%A7%E5%B8%81%E5%85%91%E6%8D%A2&oq=%25E4%25BA%25BA%25E6%25B0%2591%25E5%25B8%2581&rsv_pq=e62c09b700019ebf&rsv_t=16b4P2pXScTMtUinz0vf29JXFl5zfU0jtV7UqzEbdyejh%2BmNo%2Fy%2F8mKZrFE&rqlang=cn&rsv_enter=1&rsv_sug3=2&rsv_sug1=2&rsv_sug7=100&rsv_sug2=0&inputT=1565&rsv_sug4=1565" target="_blank">【工具】货币兑换</a></li>
                <li><a href="https://www.mangoerp.com/login" target="_blank">【工具】芒果店长</a></li>
                <li><a href="https://kj.1688.com/pdt_tongkuan.html" target="_blank">【工具】找货源</a></li>
            </div>
        </div>
        <div class="panel panel-info">
            <div class="panel-heading">
                <h3 class="panel-title">世界时间</h3>
            </div>
            <div class="panel-body">
                <li><a href="https://time.51240.com/Phoenix__localtime/" target="_blank">美国</a></li>
                <li><a href="https://time.51240.com/Arkhangelsk__localtime/" target="_blank">俄罗斯</a></li>
                <li><a href="https://time.51240.com/" target="_blank">搜索更多</a></li>
            </div>
        </div>
    </div>
    <div class="col-sm-4">
        <div class="custom-link panel panel-warning">
    <div class="panel-heading">
        <h3 class="panel-title">
            自定义链接
            <a data-act="add" class="glyphicon glyphicon-plus pull-right" data-toggle="modal" data-target=".custom-link-addedit">
            </a>
        </h3>
    </div>
    <div class="panel-body"></div>
    <div class="custom-link-addedit modal fade">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span>&times;</span></button>
                <h4 class="modal-title">增加</h4>
            </div>
            <div class="modal-body"><br>
                <form class="form-horizontal">
                    <div class="form-group">
                        <label class="col-sm-2 control-label">地址</label>
                        <div class="col-sm-9">
                            <input type="link" name="url" class="form-control">
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-2 control-label">名称</label>
                        <div class="col-sm-9">
                            <input type="text" name="name" class="form-control">
                        </div>
                    </div>
                </form><br>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                <button type="button" class="btn btn-save btn-primary" data-dismiss="modal">保存</button>
            </div>
        </div>
    </div>
</div>
</div>
<script>
    $(function() {
        var key = 'custom-link';
        var container = $('.' + key);
        var bodyEl = container.find('.panel-body');
        var btnSaveEl = container.find('.btn-save');
        var addeditEl = container.find('.custom-link-addedit');
        var addeditNameEl = container.find('input[name=name]');
        var addeditUrlEl = container.find('input[name=url]');
        var itemTpl = [
            '<li>',
            '<a href="{url}" target="_blank">{name}</a>',
            '<div class="pull-right">',
            '<a data-act="up" class="glyphicon glyphicon-arrow-up"></a>&nbsp;',
            '<a data-act="edit" class="glyphicon glyphicon-pencil" data-toggle="modal" data-target=".custom-link-addedit"></a>&nbsp;',
            '<a data-act="del" class="glyphicon glyphicon-trash"></a>',
            '</div>',
            '</li>'
        ].join('');
        var render = function(data) {
            if (!$.isArray(data)) return;

            bodyEl.html(data.map(function(item) {
                return itemTpl.replace(/\{url\}/g, item.url).replace(/\{name\}/g, item.name);
            }));
        };
        var getCacheData = function() {
            var data = localStorage[key + '_links'];

            if (data) {
                try {
                    data = JSON.parse(data);
                    data = data.items;
                } catch (ex) {}
            }

            return data || [];
        };
        var setCacheData = function(data) {
            if ($.isArray(data)) {
                localStorage[key + '_links'] = JSON.stringify({
                    items: data
                });
            }
        };

        render(getCacheData());

        btnSaveEl.click(function(ev) {
            var index = addeditEl.data('index');
            var name = addeditNameEl.val().trim();
            var url = addeditUrlEl.val().trim();
            var data = getCacheData();
            var item = data[index];

            if (!name || !url) {
                ev.stopPropagation();
                return alert('输入链接名称和地址');
            }

            if (item) {
                data[index].name = name;
                data[index].url = url;
            } else {
                data.push({
                    name: name,
                    url: url
                });
            }
            render(data);
            setCacheData(data);
            addeditNameEl.val('');
            addeditUrlEl.val('');
            addeditEl.data('index', '');
        });

        addeditUrlEl.change(function() {
            var url = this.value;
            var name = addeditNameEl.val().trim();

            if (!name && url) {
                addeditNameEl.val(url.split('/')[2] || '');
            }
        });

        bodyEl.on('click', '[data-act]', function(ev) {
            var it = $(this);
            var act = it.data('act');
            var index = it.parent().parent().index();
            var data = getCacheData();
            var item = data[index];
            var titleEl = container.find('.modal-title');

            switch (act) {
                case 'add':
                    titleEl.text('增加');
                    addeditEl.data('index', '');
                    break;
                case 'edit':
                    titleEl.text('编辑');
                    addeditNameEl.val(item.name);
                    addeditUrlEl.val(item.url);
                    addeditEl.data('index', index);
                    break;
                case 'del':
                    data.splice(index, 1);
                    render(data);
                    setCacheData(data);
                    addeditEl.data('index', '');
                    break;
                case 'up':
                    data[index - 1] = data.splice(index, 1, data[index - 1])[0];
                    render(data);
                    setCacheData(data);
                    break;
            }
        });
    });
</script>
        <div class="panel panel-danger">
            <div class="panel-heading">
                <h3 class="panel-title">待开发</h3>
            </div>
            <div class="panel-body">
                
            </div>
        </div>
    </div>
</div>
<!-- <div class="row">
    <div class="col-sm-12">
        <div class="panel panel-primary">
            <div class="panel-heading">
                <h3 class="panel-title">百度翻译</h3>
            </div>
            <div class="panel-body">
                <iframe class="iframe-pannel" src="http://fanyi.baidu.com/#zh/en/"></iframe>
            </div>
        </div>
    </div>
</div> -->
    </div>
    <!-- /container -->
    
</body>

</html>